import{r as u,j as o,U as F,a as B,L as J,c as O}from"./index-Bk-oct8h.js";import{B as T,c as U}from"./Footer-CQhrMyFW.js";import{i as W,f as w,a as k,J as q,u as V,b as z,M as S,c as G,d as H,e as g,m as Q}from"./proxy-D_L27FAP.js";function _(...e){const t=!Array.isArray(e[0]),s=t?0:-1,a=e[0+s],n=e[1+s],l=e[2+s],r=e[3+s],i=W(n,l,r);return t?i(a):i}function K(e,t,s){const a=e.get();let n=null,l=a,r;const i=typeof a=="string"?a.replace(/[\d.-]/g,""):void 0,c=()=>{n&&(n.stop(),n=null)},x=()=>{c(),n=new q({keyframes:[N(e.get()),N(l)],velocity:e.getVelocity(),type:"spring",restDelta:.001,restSpeed:.01,...s,onUpdate:r})};e.attach((f,m)=>(l=f,r=h=>m(v(h,i)),w.postRender(x),e.get()),c);let d;return k(t)&&(d=t.on("change",f=>e.set(v(f,i))),e.on("destroy",d)),d}function v(e,t){return t?e+t:e}function N(e){return typeof e=="number"?e:parseFloat(e)}function A(e){const t=V(()=>z(e)),{isStatic:s}=u.useContext(S);if(s){const[,a]=u.useState(e);u.useEffect(()=>t.on("change",a),[])}return t}function E(e,t){const s=A(t()),a=()=>s.set(t());return a(),G(()=>{const n=()=>w.preRender(a,!1,!0),l=e.map(r=>r.on("change",n));return()=>{l.forEach(r=>r()),H(a)}}),s}function X(e){g.current=[],e();const t=E(g.current,e);return g.current=void 0,t}function M(e,t,s,a){if(typeof e=="function")return X(e);const n=typeof t=="function"?t:_(t,s,a);return Array.isArray(e)?C(e,n):C([e],([l])=>n(l))}function C(e,t){const s=V(()=>[]);return E(e,()=>{s.length=0;const a=e.length;for(let n=0;n<a;n++)s[n]=e[n].get();return t(s)})}function Y(e,t={}){const{isStatic:s}=u.useContext(S),a=()=>k(e)?e.get():e;if(s)return M(a);const n=A(a());return u.useInsertionEffect(()=>K(n,e,t),[n,JSON.stringify(t)]),n}function Z({mv:e,number:t,height:s}){let a=M(e,l=>{let r=l%10,i=(10+t-r)%10,c=i*s;return i>5&&(c-=10*s),c});const n={position:"absolute",top:0,right:0,bottom:0,left:0,display:"flex",alignItems:"center",justifyContent:"center"};return o.jsx(Q.span,{style:{...n,y:a},children:t})}function ee({place:e,value:t,height:s,digitStyle:a}){let n=Math.floor(t/e),l=Y(n);u.useEffect(()=>{l.set(n)},[l,n]);const r={height:s,position:"relative",width:"1ch",fontVariantNumeric:"tabular-nums"};return o.jsx("div",{style:{...r,...a},children:Array.from({length:10},(i,c)=>o.jsx(Z,{mv:l,number:c,height:s},c))})}function te({value:e,fontSize:t=100,padding:s=0,places:a=[100,10,1],gap:n=8,borderRadius:l=4,horizontalPadding:r=8,textColor:i="white",fontWeight:c="bold",containerStyle:x,counterStyle:d,digitStyle:f,gradientHeight:m=16,gradientFrom:h="black",gradientTo:p="transparent",topGradientStyle:b,bottomGradientStyle:y}){const D=t+s,$={position:"relative",display:"inline-block"},R={fontSize:t,display:"flex",gap:n,overflow:"hidden",borderRadius:l,paddingLeft:r,paddingRight:r,lineHeight:1,color:i,fontWeight:c},I={pointerEvents:"none",position:"absolute",top:0,bottom:0,left:0,right:0},L={height:m,background:`linear-gradient(to bottom, ${h}, ${p})`},P={position:"absolute",bottom:0,width:"100%",height:m,background:`linear-gradient(to top, ${h}, ${p})`};return o.jsxs("div",{style:{...$,...x},children:[o.jsx("div",{style:{...R,...d},children:a.map(j=>o.jsx(ee,{place:j,value:e,height:D,digitStyle:f},j))}),o.jsxs("div",{style:I,children:[o.jsx("div",{style:b||L}),o.jsx("div",{style:y||P})]})]})}const ne=U("bg-[#0A0D0D] max-w-sm w-full rounded-lg shadow-md border flex flex-col h-full overflow-hidden transition-shadow duration-300 group",{variants:{border:{default:"border-black-700",hover:"hover:border-highlight hover:shadow-lg"}},defaultVariants:{border:"default"}}),se=F.memo(({product:e,className:t,...s})=>{const{addItem:a}=B(),[n,l]=u.useState(1);return o.jsxs(J,{to:`/product/${e.id}`,className:O(ne({border:"default"}),"hover:border-highlight hover:shadow-lg",t),style:{textDecoration:"none"},...s,children:[o.jsxs("div",{className:"relative h-39 bg-background flex items-center justify-center",children:[o.jsx("img",{src:e.image.startsWith("/")?`/TurboGainz/${e.image.substring(1)}`:e.image,alt:e.name,className:"object-cover w-full h-full",loading:"lazy"}),e.isNew&&o.jsx("span",{className:"absolute top-2 left-2 bg-highlight text-highlight-foreground px-2 py-1 text-xs rounded-full",children:"NOVO"}),e.discountPrice&&o.jsx("span",{className:"absolute top-2 right-2 bg-destructive text-destructive-foreground px-2 py-1 text-xs rounded-full",children:"OFERTA"})]}),o.jsxs("div",{className:"flex-1 flex flex-col p-4",children:[o.jsx("h3",{className:"font-semibold text-lg text-black-50 group-hover:text-highlight mb-1 line-clamp-2",children:e.name}),o.jsx("p",{className:"text-black-300 text-sm mb-2 line-clamp-2",children:e.description}),o.jsxs("div",{className:"flex flex-wrap gap-2 mb-2",children:[e.gender.map(r=>o.jsx("span",{className:"px-2 py-1 text-xs rounded-full bg-black-800 text-black-50 font-medium",children:r==="men"?"Homem":r==="women"?"Mulher":r},r)),o.jsx("span",{className:"px-2 py-1 text-xs rounded-full bg-black-800 text-black-50 font-medium",children:e.category==="injectable"?"InjetÃ¡vel":"Comprimido"})]}),o.jsxs("div",{className:"font-bold text-xl text-highlight mb-2",children:["R$"," ",(e.discountPrice||e.price).toFixed(2).replace(".",",")]}),o.jsxs("div",{className:"mt-auto flex items-center gap-2",children:[o.jsx(T,{onClick:r=>{r.preventDefault(),a(e,n)},className:"flex-grow bg-black-900 hover:bg-black-800 text-highlight-foreground",children:"Comprar"}),o.jsxs("div",{className:"flex items-center justify-between bg-black-900 rounded-md",children:[o.jsx("button",{onClick:r=>{r.preventDefault(),l(i=>Math.max(1,i-1))},className:"flex-1 p-2 text-white hover:bg-gray-600 rounded-l-md disabled:opacity-50 disabled:cursor-not-allowed",disabled:n===1,children:"-"}),o.jsx(te,{value:n,fontSize:18,padding:2,gap:0,places:[10,1],textColor:"white",fontWeight:600}),o.jsx("button",{onClick:r=>{r.preventDefault(),l(i=>i+1)},className:"flex-1 p-2 text-white hover:bg-gray-600 rounded-r-md",children:"+"})]})]})]})]})});se.displayName="ProductCard";export{te as C,se as P};
